<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Linoir Custom Designs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="custom.css" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

    <style>
      .tshirt-container {
        position: relative;
        width: 400px;
        height: 500px;
        margin: 0 auto;
      }
      .tshirt-image {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
      .design-preview {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        max-width: 200px;
        max-height: 200px;
        cursor: move;
        user-select: none;
      }
      .controls {
        background-color: rgba(253, 253, 253, 0.95);
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .size-input {
        width: 60px;
        text-align: center;
      }
      .cart-notification {
        position: fixed;
        top: 50px;
        right: 20px;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.5s;
        
      }
      .cart-notification.show {
        opacity: 1;
      }
      .upload-area {
        transition: all 0.3s ease;
      }
      .upload-area:hover {
        border-color: #9ca3af;
        background-color: #f9fafb;
      }
      .color-option {
        transition: transform 0.2s ease;
      }
      .color-option:hover {
        transform: scale(1.05);
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="logo"><img src="logo.png" alt="logoimg" /></div>

      <div class="menu-toggle" id="menu-toggle">☰</div>

      <ul class="nav-links" id="nav-links">
        <li><a href="index.html">Home</a></li>

        <li class="dropdown">
          <a href="#" id="shop-toggle">Shop ▾</a>
          <ul class="dropdown-menu" id="shop-dropdown">
            <li><a href="beach_collection.html">Beach</a></li>
            <li><a href="sportscollection.html">Sports</a></li>
            <li><a href="girls_collection.html">Girls</a></li>
            <li><a href="quotes_collection.html">Quotes</a></li>
            <li><a href="carscollection.html">Cars</a></li>
          </ul>
        </li>
        <li><a href="custome_design.html">Custom Design</a></li>
        <li><a href="index.html#contact">Contact Us</a></li>
        <li class="cart-icon"><img src="cart.png" alt="cart-icon" height="25px" width="25px"></li>
      </ul>
    </nav>

    <div class="container mx-auto py-8 px-4">
      <h1 class="text-4xl font-bold text-center mb-8 text-gray-800">
        Custom T-Shirt Design
      </h1>

      <div class="flex flex-col lg:flex-row gap-8 items-start">
        <!-- T-Shirt Preview Section -->
        <div class="flex-1">
          <div class="tshirt-container bg-white rounded-xl shadow-lg p-4">
            <img
              id="tshirt-img"
              src="shirt.svg"
              alt="T-Shirt"
              class="tshirt-image"
            />
            <img
              id="design-preview"
              class="design-preview hidden"
              alt="Your Design"
            />
          </div>
        </div>

        <!-- Customization Controls -->
        <div class="flex-1 w-full">
          <div class="controls p-6 rounded-xl shadow-lg">
            <!-- Upload Design -->
            <div class="mb-6">
              <h2 class="text-xl font-semibold mb-4 text-gray-800">
                1. Upload Your Design
              </h2>
              <div
                class="upload-area border-2 border-dashed border-gray-300 rounded-lg p-6 text-center"
              >
                <i
                  class="fas fa-cloud-upload-alt text-4xl text-gray-600 mb-3"
                ></i>
                <p class="mb-3 text-gray-600">
                  Drag & drop your design here or click to browse
                </p>
                <input
                  type="file"
                  id="design-upload"
                  accept="image/*"
                  class="hidden"
                />
                <button
                  id="upload-btn"
                  class="bg-gray-700 hover:bg-gray-800 text-white font-medium py-2 px-6 rounded-lg transition"
                >
                  Select File
                </button>
                <p class="text-xs text-gray-500 mt-2">
                  Supports JPG, PNG (Max 5MB)
                </p>
              </div>
            </div>

            <!-- T-Shirt Color -->
            <div class="mb-6">
              <h2 class="text-xl font-semibold mb-4 text-gray-800">
                2. Select T-Shirt Color
              </h2>
              <div class="flex gap-4">
                <div class="color-option flex flex-col items-center">
                  <div
                    class="w-16 h-16 rounded-full border-2 border-gray-300 bg-gray-900 cursor-pointer shadow-md hover:shadow-lg transition"
                    data-color="black"
                    onclick="changeShirtColor('black')"
                  ></div>
                  <span class="mt-2 text-sm text-gray-700">Black</span>
                </div>
                <div class="color-option flex flex-col items-center">
                  <div
                    class="w-16 h-16 rounded-full border-2 border-gray-300 bg-gray-100 cursor-pointer shadow-md hover:shadow-lg transition"
                    data-color="white"
                    onclick="changeShirtColor('white')"
                  ></div>
                  <span class="mt-2 text-sm text-gray-700">White</span>
                </div>
                <!-- <div class="color-option flex flex-col items-center">
                                <div class="w-16 h-16 rounded-full border-2 border-gray-300 bg-gray-400 cursor-pointer shadow-md hover:shadow-lg transition" 
                                     data-color="gray" onclick="changeShirtColor('gray')"></div>
                                <span class="mt-2 text-sm text-gray-700">Gray</span>
                            </div> -->
              </div>
            </div>

            <!-- Design Adjustment -->
            <div class="mb-6">
              <h2 class="text-xl font-semibold mb-4 text-gray-800">
                3. Adjust Your Design
              </h2>
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Size (%)</label
                  >
                  <input
                    type="range"
                    id="size-slider"
                    min="20"
                    max="150"
                    value="100"
                    class="w-full accent-gray-700"
                  />
                  <div class="flex justify-between mt-1">
                    <span class="text-xs text-gray-500">20%</span>
                    <span class="text-xs text-gray-500">150%</span>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Rotation</label
                  >
                  <input
                    type="range"
                    id="rotation-slider"
                    min="0"
                    max="360"
                    value="0"
                    class="w-full accent-gray-700"
                  />
                  <div class="flex justify-between mt-1">
                    <span class="text-xs text-gray-500">0°</span>
                    <span class="text-xs text-gray-500">360°</span>
                  </div>
                </div>
              </div>
              <div class="mt-4">
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >Position</label
                >
                <div class="flex gap-2">
                  <button
                    id="move-up"
                    class="p-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700"
                  >
                    <i class="fas fa-arrow-up"></i>
                  </button>
                  <button
                    id="move-down"
                    class="p-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700"
                  >
                    <i class="fas fa-arrow-down"></i>
                  </button>
                  <button
                    id="move-left"
                    class="p-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700"
                  >
                    <i class="fas fa-arrow-left"></i>
                  </button>
                  <button
                    id="move-right"
                    class="p-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700"
                  >
                    <i class="fas fa-arrow-right"></i>
                  </button>
                  <button
                    id="center"
                    class="p-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700"
                  >
                    <i class="fas fa-crosshairs"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- Add to Cart -->
            <div class="mt-8">
              <div class="flex items-center justify-between mb-4">
                <span class="text-xl font-semibold text-gray-800">Total:</span>
                <span class="text-2xl font-bold text-gray-800">PKR 1599</span>
              </div>
              <button
                id="add-to-cart"
                class="w-full bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-4 rounded-lg transition flex items-center justify-center gap-2"
              >
                <i class="fas fa-shopping-cart"></i>
                Add to Cart & Checkout
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Cart Notification -->
    <div
      id="cart-notification"
      class="cart-notification bg-gray-800 text-white px-6 py-3 rounded-lg shadow-lg"
    >
      <div class="flex items-center gap-2">
        <i class="fas fa-check-circle"></i>
        <span>Item added to cart successfully!</span>
      </div>
    </div>

    <footer class="site-footer">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="logo.png" alt="LeNoir Logo" class="footer-logo" />
          <p class="tagline">Redefining Modern Fashion</p>
        </div>

        <div class="footer-social">
          <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
          <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
          <a href="#" class="social-link"><i class="fab fa-pinterest"></i></a>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2023 Linoir. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // Hamburger toggle
      const toggle = document.getElementById("menu-toggle");
      const navLinks = document.getElementById("nav-links");
      toggle.addEventListener("click", () => {
        navLinks.classList.toggle("active");
      });

      // Shop dropdown toggle on click
      const shopToggle = document.getElementById("shop-toggle");
      const shopDropdown = document.getElementById("shop-dropdown");

      shopToggle.addEventListener("click", (e) => {
        e.preventDefault();
        shopDropdown.classList.toggle("show");
      });

      // Close dropdown if clicked elsewhere
      window.addEventListener("click", (e) => {
        if (!e.target.closest(".dropdown")) {
          shopDropdown.classList.remove("show");
        }
      });

      // DOM Elements
      const uploadBtn = document.getElementById("upload-btn");
      const designUpload = document.getElementById("design-upload");
      const designPreview = document.getElementById("design-preview");
      const tshirtImg = document.getElementById("tshirt-img");
      const sizeSlider = document.getElementById("size-slider");
      const rotationSlider = document.getElementById("rotation-slider");
      const moveUpBtn = document.getElementById("move-up");
      const moveDownBtn = document.getElementById("move-down");
      const moveLeftBtn = document.getElementById("move-left");
      const moveRightBtn = document.getElementById("move-right");
      const centerBtn = document.getElementById("center");
      const addToCartBtn = document.getElementById("add-to-cart");
      const cartNotification = document.getElementById("cart-notification");

      // Design properties
      let design = {
        x: 0,
        y: 0,
        size: 100,
        rotation: 0,
        image: null,
      };

      // Initialize
      function init() {
        // Set up event listeners
        uploadBtn.addEventListener("click", () => designUpload.click());
        designUpload.addEventListener("change", handleDesignUpload);

        sizeSlider.addEventListener("input", updateDesignSize);
        rotationSlider.addEventListener("input", updateDesignRotation);

        moveUpBtn.addEventListener("click", () => moveDesign(0, -10));
        moveDownBtn.addEventListener("click", () => moveDesign(0, 10));
        moveLeftBtn.addEventListener("click", () => moveDesign(-10, 0));
        moveRightBtn.addEventListener("click", () => moveDesign(10, 0));
        centerBtn.addEventListener("click", centerDesign);

        addToCartBtn.addEventListener("click", addToCart);

        // Make design draggable
        makeDraggable(designPreview);

        // Set up drag and drop
        setupDragAndDrop();
      }

      // Handle design upload
      function handleDesignUpload(e) {
        const file = e.target.files[0];
        if (!file) return;

        // Check file size (max 5MB)
        if (file.size > 5 * 1024 * 1024) {
          alert("File size exceeds 5MB limit");
          return;
        }

        const reader = new FileReader();
        reader.onload = function (event) {
          designPreview.src = event.target.result;
          designPreview.classList.remove("hidden");
          design.image = event.target.result;
          centerDesign();
        };
        reader.readAsDataURL(file);
      }

      // Change shirt color
      function changeShirtColor(color) {
        if (color === "black") {
          tshirtImg.src = "blackshirt.svg"; // Black shirt
        } else if (color === "white") {
          tshirtImg.src = "shirt.svg"; // White shirt
        }
      }

      // Update design size
      function updateDesignSize() {
        design.size = parseInt(sizeSlider.value);
        applyDesignTransform();
      }

      // Update design rotation
      function updateDesignRotation() {
        design.rotation = parseInt(rotationSlider.value);
        applyDesignTransform();
      }

      // Move design
      function moveDesign(dx, dy) {
        design.x += dx;
        design.y += dy;
        applyDesignTransform();
      }

      // Center design
      function centerDesign() {
        design.x = 0;
        design.y = 0;
        design.size = 100;
        design.rotation = 0;

        sizeSlider.value = 100;
        rotationSlider.value = 0;

        applyDesignTransform();
      }

      // Apply all transformations to the design
      function applyDesignTransform() {
        designPreview.style.transform = `translate(-50%, -50%) translate(${
          design.x
        }px, ${design.y}px) rotate(${design.rotation}deg) scale(${
          design.size / 100
        })`;
      }

      // Make design draggable
      function makeDraggable(element) {
        let pos1 = 0,
          pos2 = 0,
          pos3 = 0,
          pos4 = 0;

        element.onmousedown = dragMouseDown;

        function dragMouseDown(e) {
          if (!design.image) return;

          e = e || window.event;
          e.preventDefault();
          // Get the mouse cursor position at startup
          pos3 = e.clientX;
          pos4 = e.clientY;
          document.onmouseup = closeDragElement;
          // Call a function whenever the cursor moves
          document.onmousemove = elementDrag;
        }

        function elementDrag(e) {
          e = e || window.event;
          e.preventDefault();
          // Calculate the new cursor position
          pos1 = pos3 - e.clientX;
          pos2 = pos4 - e.clientY;
          pos3 = e.clientX;
          pos4 = e.clientY;
          // Set the element's new position
          design.x -= pos1;
          design.y -= pos2;
          applyDesignTransform();
        }

        function closeDragElement() {
          // Stop moving when mouse button is released
          document.onmouseup = null;
          document.onmousemove = null;
        }
      }

      // Set up drag and drop
      function setupDragAndDrop() {
        const uploadArea = document.querySelector(".upload-area");

        ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
          uploadArea.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
          e.preventDefault();
          e.stopPropagation();
        }

        ["dragenter", "dragover"].forEach((eventName) => {
          uploadArea.addEventListener(eventName, highlight, false);
        });

        ["dragleave", "drop"].forEach((eventName) => {
          uploadArea.addEventListener(eventName, unhighlight, false);
        });

        function highlight() {
          uploadArea.classList.add("bg-gray-100", "border-gray-400");
        }

        function unhighlight() {
          uploadArea.classList.remove("bg-gray-100", "border-gray-400");
        }

        uploadArea.addEventListener("drop", handleDrop, false);

        function handleDrop(e) {
          const dt = e.dataTransfer;
          const files = dt.files;

          if (files.length > 0) {
            designUpload.files = files;
            const event = new Event("change");
            designUpload.dispatchEvent(event);
          }
        }
      }

      // Add to cart functionality
      function addToCart() {
        if (!design.image) {
          alert("Please upload a design first!");
          return;
        }

        // Show notification
        cartNotification.classList.add("show");
        setTimeout(() => {
          cartNotification.classList.remove("show");
        }, 3000);

        // In a real app, you would send this data to your backend
        const orderData = {
          shirtColor: tshirtImg.src.includes("JQ6eERW")
            ? "black"
            : tshirtImg.src.includes("ZnXBR5Y")
            ? "white"
            : "gray",
          design: design,
          price: 24.99,
          preview: generatePreviewImage(),
        };

        console.log("Added to cart:", orderData);
      }

      // Generate preview image (simplified)
      function generatePreviewImage() {
        // In a real implementation, you would use canvas to combine the images
        return {
          shirt: tshirtImg.src,
          design: design.image,
          position: { x: design.x, y: design.y },
          size: design.size,
          rotation: design.rotation,
        };
      }

      // Initialize the app
      window.onload = init;
    </script>
  </body>
</html>
